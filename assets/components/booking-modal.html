<!-- Modern Booking Modal Component -->
<div class="modal fade" id="bookingModal" tabindex="-1" aria-labelledby="bookingModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content modern-modal">
            <!-- Modern Modal Header -->
            <div class="modal-header modern-header">
                <div class="header-content">
                    <div class="modal-icon">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <div class="header-text">
                        <h5 class="modal-title" id="bookingModalLabel">Book Your Service</h5>
                        <p class="modal-subtitle">Complete your booking in 4 simple steps</p>
                    </div>
                </div>
                <button type="button" class="btn-close modern-close" data-bs-dismiss="modal" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <!-- Modern Progress Indicator -->
            <div class="progress-container">
                <div class="step-progress">
                    <div class="progress-bar" id="progressBar"></div>
                    <div class="step-indicators">
                        <div class="step-indicator active" data-step="1">
                            <div class="step-circle">
                                <i class="fas fa-cog"></i>
                                <span class="step-number">1</span>
                            </div>
                            <span class="step-label">Service</span>
                        </div>
                        <div class="step-indicator" data-step="2">
                            <div class="step-circle">
                                <i class="fas fa-calendar-alt"></i>
                                <span class="step-number">2</span>
                            </div>
                            <span class="step-label">Schedule</span>
                        </div>
                        <div class="step-indicator" data-step="3">
                            <div class="step-circle">
                                <i class="fas fa-user"></i>
                                <span class="step-number">3</span>
                            </div>
                            <span class="step-label">Details</span>
                        </div>
                        <div class="step-indicator" data-step="4">
                            <div class="step-circle">
                                <i class="fas fa-check"></i>
                                <span class="step-number">4</span>
                            </div>
                            <span class="step-label">Confirm</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Modal Body -->
            <div class="modal-body modern-body">
                <!-- Step 1: Service Configuration -->
                <div class="booking-step active" id="step-1">
                    <div class="step-header">
                        <h6 class="step-title">Configure Your Service</h6>
                        <p class="step-description">Choose your service options and preferences</p>
                    </div>
                    
                    <div class="service-summary-card">
                        <div class="service-info">
                            <div class="service-image-container">
                                <img src="/api/placeholder/80/80" alt="Service" class="service-image" id="modalServiceImage">
                                <div class="service-badge">
                                    <i class="fas fa-star"></i>
                                    <span>4.8</span>
                                </div>
                            </div>
                            <div class="service-details">
                                <h6 class="service-title" id="modalServiceTitle">Service Title</h6>
                                <p class="provider-name" id="modalProviderName">Provider Name</p>
                                <div class="service-tags">
                                    <span class="tag">Professional</span>
                                    <span class="tag">Verified</span>
                                </div>
                            </div>
                            <div class="service-price">
                                <span class="price-label">Starting from</span>
                                <span class="price-value" id="basePrice">$50</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="service-options-grid">
                        <div class="option-card">
                            <label class="option-label">
                                <i class="fas fa-clock"></i>
                                Service Duration
                            </label>
                            <select class="form-select modern-select" id="serviceDuration">
                                <option value="">Select duration</option>
                                <option value="1" data-price="50">1 hour - $50</option>
                                <option value="2" data-price="90">2 hours - $90</option>
                                <option value="3" data-price="130">3 hours - $130</option>
                                <option value="4" data-price="0">4+ hours - Custom quote</option>
                            </select>
                        </div>
                        
                        <div class="option-card">
                            <label class="option-label">
                                <i class="fas fa-plus-circle"></i>
                                Additional Services
                            </label>
                            <div class="checkbox-group">
                                <label class="modern-checkbox">
                                    <input type="checkbox" id="urgentService" value="20">
                                    <span class="checkmark"></span>
                                    <div class="checkbox-content">
                                        <span class="checkbox-title">Urgent Service</span>
                                        <span class="checkbox-price">+$20</span>
                                    </div>
                                </label>
                                <label class="modern-checkbox">
                                    <input type="checkbox" id="weekendService" value="15">
                                    <span class="checkmark"></span>
                                    <div class="checkbox-content">
                                        <span class="checkbox-title">Weekend Service</span>
                                        <span class="checkbox-price">+$15</span>
                                    </div>
                                </label>
                                <label class="modern-checkbox">
                                    <input type="checkbox" id="materialIncluded" value="25">
                                    <span class="checkmark"></span>
                                    <div class="checkbox-content">
                                        <span class="checkbox-title">Materials Included</span>
                                        <span class="checkbox-price">+$25</span>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="price-summary">
                        <div class="price-breakdown">
                            <div class="price-item">
                                <span>Base Service</span>
                                <span id="basePriceDisplay">$0</span>
                            </div>
                            <div class="price-item" id="addonsPrice" style="display: none;">
                                <span>Add-ons</span>
                                <span id="addonsPriceDisplay">$0</span>
                            </div>
                            <div class="price-total">
                                <span>Total Estimate</span>
                                <span id="totalPrice">$0</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Step 2: Date & Time Selection -->
                <div class="booking-step" id="step-2">
                    <div class="step-header">
                        <h6 class="step-title">Schedule Your Service</h6>
                        <p class="step-description">Choose your preferred date, time, and location</p>
                    </div>
                    
                    <div class="scheduling-grid">
                        <div class="date-time-section">
                            <div class="form-group">
                                <label class="modern-label">
                                    <i class="fas fa-calendar"></i>
                                    Select Date
                                </label>
                                <input type="date" class="form-control modern-input" id="serviceDate" min="">
                                <div class="input-helper">Minimum 24 hours advance booking</div>
                            </div>
                            
                            <div class="form-group">
                                <label class="modern-label">
                                    <i class="fas fa-clock"></i>
                                    Select Time
                                </label>
                                <div class="time-slots" id="timeSlots">
                                    <div class="time-slot" data-time="08:00">8:00 AM</div>
                                    <div class="time-slot" data-time="09:00">9:00 AM</div>
                                    <div class="time-slot" data-time="10:00">10:00 AM</div>
                                    <div class="time-slot" data-time="11:00">11:00 AM</div>
                                    <div class="time-slot" data-time="12:00">12:00 PM</div>
                                    <div class="time-slot" data-time="13:00">1:00 PM</div>
                                    <div class="time-slot" data-time="14:00">2:00 PM</div>
                                    <div class="time-slot" data-time="15:00">3:00 PM</div>
                                    <div class="time-slot" data-time="16:00">4:00 PM</div>
                                    <div class="time-slot" data-time="17:00">5:00 PM</div>
                                </div>
                                <input type="hidden" id="selectedTime">
                            </div>
                        </div>
                        
                        <div class="location-section">
                            <div class="form-group">
                                <label class="modern-label">
                                    <i class="fas fa-map-marker-alt"></i>
                                    Service Location
                                </label>
                                <div class="location-input-group">
                                    <textarea class="form-control modern-textarea" id="serviceAddress" rows="4" placeholder="Enter your complete address including building, street, area, and city"></textarea>
                                    <button type="button" class="location-btn" id="useCurrentLocation">
                                        <i class="fas fa-location-arrow"></i>
                                        Use Current Location
                                    </button>
                                </div>
                                <div class="input-helper">Accurate address helps our provider reach you on time</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Step 3: Customer Information -->
                <div class="booking-step" id="step-3">
                    <div class="step-header">
                        <h6 class="step-title">Your Information</h6>
                        <p class="step-description">Provide your contact details for booking confirmation</p>
                    </div>
                    
                    <div class="customer-info-grid">
                        <div class="form-group">
                            <label class="modern-label required">
                                <i class="fas fa-user"></i>
                                Full Name
                            </label>
                            <input type="text" class="form-control modern-input" id="customerName" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="modern-label required">
                                <i class="fas fa-phone"></i>
                                Phone Number
                            </label>
                            <input type="tel" class="form-control modern-input" id="customerPhone" required placeholder="+92 300 1234567">
                        </div>
                        
                        <div class="form-group">
                            <label class="modern-label required">
                                <i class="fas fa-envelope"></i>
                                Email Address
                            </label>
                            <input type="email" class="form-control modern-input" id="customerEmail" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="modern-label">
                                <i class="fas fa-comment-dots"></i>
                                Preferred Contact Method
                            </label>
                            <div class="contact-methods">
                                <label class="contact-method">
                                    <input type="radio" name="contactMethod" value="phone" checked>
                                    <span class="method-icon"><i class="fas fa-phone"></i></span>
                                    <span class="method-label">Phone</span>
                                </label>
                                <label class="contact-method">
                                    <input type="radio" name="contactMethod" value="whatsapp">
                                    <span class="method-icon"><i class="fab fa-whatsapp"></i></span>
                                    <span class="method-label">WhatsApp</span>
                                </label>
                                <label class="contact-method">
                                    <input type="radio" name="contactMethod" value="email">
                                    <span class="method-icon"><i class="fas fa-envelope"></i></span>
                                    <span class="method-label">Email</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group full-width">
                            <label class="modern-label">
                                <i class="fas fa-clipboard-list"></i>
                                Special Instructions (Optional)
                            </label>
                            <textarea class="form-control modern-textarea" id="specialInstructions" rows="3" placeholder="Any specific requirements, access instructions, or notes for the service provider"></textarea>
                        </div>
                    </div>
                </div>
                
                <!-- Step 4: Confirmation -->
                <div class="booking-step" id="step-4">
                    <div class="step-header">
                        <h6 class="step-title">Confirm Your Booking</h6>
                        <p class="step-description">Review all details before confirming your service booking</p>
                    </div>
                    
                    <div class="confirmation-layout">
                        <div class="booking-summary-modern">
                            <div class="summary-header">
                                <h6>Booking Summary</h6>
                                <button type="button" class="edit-btn" id="editBooking">
                                    <i class="fas fa-edit"></i>
                                    Edit
                                </button>
                            </div>
                            
                            <div class="summary-section">
                                <div class="summary-item">
                                    <div class="item-icon"><i class="fas fa-cog"></i></div>
                                    <div class="item-content">
                                        <span class="item-label">Service</span>
                                        <span class="item-value" id="summaryService">-</span>
                                    </div>
                                </div>
                                
                                <div class="summary-item">
                                    <div class="item-icon"><i class="fas fa-user-tie"></i></div>
                                    <div class="item-content">
                                        <span class="item-label">Provider</span>
                                        <span class="item-value" id="summaryProvider">-</span>
                                    </div>
                                </div>
                                
                                <div class="summary-item">
                                    <div class="item-icon"><i class="fas fa-calendar-check"></i></div>
                                    <div class="item-content">
                                        <span class="item-label">Date & Time</span>
                                        <span class="item-value" id="summaryDateTime">-</span>
                                    </div>
                                </div>
                                
                                <div class="summary-item">
                                    <div class="item-icon"><i class="fas fa-clock"></i></div>
                                    <div class="item-content">
                                        <span class="item-label">Duration</span>
                                        <span class="item-value" id="summaryDuration">-</span>
                                    </div>
                                </div>
                                
                                <div class="summary-item">
                                    <div class="item-icon"><i class="fas fa-map-marker-alt"></i></div>
                                    <div class="item-content">
                                        <span class="item-label">Location</span>
                                        <span class="item-value" id="summaryAddress">-</span>
                                    </div>
                                </div>
                                
                                <div class="summary-item">
                                    <div class="item-icon"><i class="fas fa-user"></i></div>
                                    <div class="item-content">
                                        <span class="item-label">Customer</span>
                                        <span class="item-value" id="summaryCustomer">-</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="pricing-summary">
                                <div class="price-breakdown">
                                    <div class="price-row">
                                        <span>Service Cost</span>
                                        <span id="finalBasePrice">$0</span>
                                    </div>
                                    <div class="price-row addons" id="finalAddonsRow" style="display: none;">
                                        <span>Add-ons</span>
                                        <span id="finalAddonsPrice">$0</span>
                                    </div>
                                    <div class="price-total">
                                        <span>Total Amount</span>
                                        <span id="finalTotalPrice">$0</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="payment-section">
                            <h6 class="payment-title">Payment Method</h6>
                            <div class="payment-options">
                                <label class="payment-option">
                                    <input type="radio" name="paymentMethod" value="cash" checked>
                                    <div class="payment-card">
                                        <div class="payment-icon"><i class="fas fa-money-bill-wave"></i></div>
                                        <div class="payment-info">
                                            <span class="payment-name">Cash Payment</span>
                                            <span class="payment-desc">Pay when service is completed</span>
                                        </div>
                                        <div class="payment-check"><i class="fas fa-check"></i></div>
                                    </div>
                                </label>
                                
                                <label class="payment-option" id="walletPaymentOption" style="display: none;">
                                    <input type="radio" name="paymentMethod" value="wallet">
                                    <div class="payment-card">
                                        <div class="payment-icon"><i class="fas fa-wallet"></i></div>
                                        <div class="payment-info">
                                            <span class="payment-name">Wallet Payment</span>
                                            <span class="payment-desc" id="walletBalance">Balance: $0.00</span>
                                        </div>
                                        <div class="payment-check"><i class="fas fa-check"></i></div>
                                    </div>
                                </label>
                                
                                <label class="payment-option">
                                    <input type="radio" name="paymentMethod" value="card">
                                    <div class="payment-card">
                                        <div class="payment-icon"><i class="fas fa-credit-card"></i></div>
                                        <div class="payment-info">
                                            <span class="payment-name">Card Payment</span>
                                            <span class="payment-desc">Pay by card on-site</span>
                                        </div>
                                        <div class="payment-check"><i class="fas fa-check"></i></div>
                                    </div>
                                </label>
                                
                                <label class="payment-option disabled">
                                    <input type="radio" name="paymentMethod" value="online" disabled>
                                    <div class="payment-card">
                                        <div class="payment-icon"><i class="fas fa-globe"></i></div>
                                        <div class="payment-info">
                                            <span class="payment-name">Online Payment</span>
                                            <span class="payment-desc">Coming soon</span>
                                        </div>
                                        <div class="payment-check"><i class="fas fa-check"></i></div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Loading State -->
                <div class="booking-step" id="loading-step" style="display: none;">
                    <div class="loading-container">
                        <div class="loading-spinner">
                            <div class="spinner"></div>
                        </div>
                        <h6>Processing Your Booking...</h6>
                        <p>Please wait while we confirm your service booking</p>
                    </div>
                </div>
                
                <!-- Success State -->
                <div class="booking-step" id="success-step" style="display: none;">
                    <div class="success-container">
                        <div class="success-animation">
                            <div class="checkmark-container">
                                <div class="checkmark-circle">
                                    <div class="checkmark-background"></div>
                                    <div class="checkmark-icon">
                                        <div class="checkmark-stem"></div>
                                        <div class="checkmark-kick"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="success-content">
                            <h6 class="success-title">Booking Confirmed!</h6>
                            <p class="success-message">Your service has been successfully booked. You will receive a confirmation message shortly.</p>
                            
                            <div class="booking-reference-card">
                                <div class="reference-header">
                                    <i class="fas fa-receipt"></i>
                                    <span>Booking Reference</span>
                                </div>
                                <div class="reference-number" id="bookingReference">-</div>
                                <button type="button" class="copy-reference-btn" id="copyReferenceBtn">
                                    <i class="fas fa-copy"></i>
                                    Copy Reference
                                </button>
                            </div>
                            
                            <div class="success-actions">
                                <button type="button" class="btn btn-outline-primary" id="viewBookingBtn">
                                    <i class="fas fa-eye"></i>
                                    View Booking Details
                                </button>
                                <button type="button" class="btn btn-primary" id="closeModalBtn">
                                    <i class="fas fa-home"></i>
                                    Back to Services
                                </button>
                            </div>
                            
                            <div class="next-steps">
                                <h6>What happens next?</h6>
                                <div class="step-list">
                                    <div class="next-step">
                                        <div class="step-icon"><i class="fas fa-bell"></i></div>
                                        <div class="step-text">Provider will be notified immediately</div>
                                    </div>
                                    <div class="next-step">
                                        <div class="step-icon"><i class="fas fa-phone"></i></div>
                                        <div class="step-text">Confirmation call within 30 minutes</div>
                                    </div>
                                    <div class="next-step">
                                        <div class="step-icon"><i class="fas fa-calendar-check"></i></div>
                                        <div class="step-text">Service delivered as scheduled</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Modern Modal Footer -->
            <div class="modal-footer modern-footer">
                <div class="footer-navigation">
                    <button type="button" class="btn btn-outline" id="prevStepBtn" style="display: none;">
                        <i class="fas fa-arrow-left"></i>
                        <span>Previous</span>
                    </button>
                    <div class="footer-actions">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                            <span>Cancel</span>
                        </button>
                        <button type="button" class="btn btn-primary" id="nextStepBtn">
                            <span id="nextBtnText">Continue</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div> 
 